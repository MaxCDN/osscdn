CodeMirror.defineMode("pegjs",function(e){function n(e){return e.match(/^[a-zA-Z_][a-zA-Z0-9_]*/)}var t=CodeMirror.getMode(e,"javascript");return{startState:function(){return{inString:!1,stringType:null,inComment:!1,inChracterClass:!1,braced:0,lhs:!0,localState:null}},token:function(e,r){e&&!r.inString&&!r.inComment&&(e.peek()=='"'||e.peek()=="'")&&(r.stringType=e.peek(),e.next(),r.inString=!0),!r.inString&&!r.inComment&&e.match(/^\/\*/)&&(r.inComment=!0);if(r.inString){while(r.inString&&!e.eol())e.peek()===r.stringType?(e.next(),r.inString=!1):e.peek()==="\\"?(e.next(),e.next()):e.match(/^.[^\\\"\']*/);return r.lhs?"property string":"string"}if(r.inComment){while(r.inComment&&!e.eol())e.match(/\*\//)?r.inComment=!1:e.match(/^.[^\*]*/);return"comment"}if(r.inChracterClass){if(e.match(/^[^\]\\]+/))return;if(e.match(/^\\./))return;return e.next(),r.inChracterClass=!1,"bracket"}if(e.peek()==="[")return e.next(),r.inChracterClass=!0,"bracket";if(e.match(/^\/\//))return e.skipToEnd(),"comment";if(r.braced||e.peek()==="{"){r.localState===null&&(r.localState=t.startState());var i=t.token(e,r.localState),s=e.current();if(!i)for(var o=0;o<s.length;o++)s[o]==="{"?r.braced++:s[o]==="}"&&r.braced--;return i}return n(e)?e.peek()===":"?"variable":"variable-2":["[","]","(",")"].indexOf(e.peek())!=-1?(e.next(),"bracket"):(e.eatSpace()||e.next(),null)}}},"javascript");